
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://containers.io/deploy/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.8">
    
    
      
        <title>5. Deploying the application on a Kubernetes cluster - Containers, Docker and Kubernetes for Beginners</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6e60f8b8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@8.5.1/dist/mermaid.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#51-create-a-kubernetes-cluster" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Containers, Docker and Kubernetes for Beginners" class="md-header__button md-logo" aria-label="Containers, Docker and Kubernetes for Beginners" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Containers, Docker and Kubernetes for Beginners
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5. Deploying the application on a Kubernetes cluster
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/manojjahgirdar/docker-kubernetes-workshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Goto GitHub Repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Containers, Docker and Kubernetes for Beginners" class="md-nav__button md-logo" aria-label="Containers, Docker and Kubernetes for Beginners" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Containers, Docker and Kubernetes for Beginners
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/manojjahgirdar/docker-kubernetes-workshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Goto GitHub Repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../build/" class="md-nav__link">
        1. Developing a basic Python or NodeJs Application
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../containerize/" class="md-nav__link">
        2. Containerizing the Application
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../store/" class="md-nav__link">
        3. Storing the container image in a container registry
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deploy-script/" class="md-nav__link">
        4. Writing the deployment scripts
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          5. Deploying the application on a Kubernetes cluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        5. Deploying the application on a Kubernetes cluster
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#51-create-a-kubernetes-cluster" class="md-nav__link">
    5.1. Create a Kubernetes cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#52-check-kubernetes-context" class="md-nav__link">
    5.2. Check Kubernetes context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#53-deploy-app-on-kubernetes" class="md-nav__link">
    5.3. Deploy App on Kubernetes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#54-create-service-for-the-deployment" class="md-nav__link">
    5.4. Create service for the deployment
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../conclusion/" class="md-nav__link">
        Conclusion
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/manojjahgirdar/docker-kubernetes-workshop/edit/master/docs/deploy.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


  <h1>5. Deploying the application on a Kubernetes cluster</h1>

<h3 id="51-create-a-kubernetes-cluster">5.1. Create a Kubernetes cluster</h3>
<div class="admonition abstract">
<p class="admonition-title">Managed Kubernetes Service (Paid)</p>
<ul>
<li>You can procure a managed Kubernetes service from the following providers:<ul>
<li><a href="https://docs.aws.amazon.com/eks/latest/userguide/create-cluster.html">Create an EKS cluster on AWS</a> - Managed Kubernetes service from AWS</li>
<li><a href="https://cloud.ibm.com/kubernetes/catalog/create">Create an IKS cluster on IBM Cloud</a> - Managed Kubernetes service from IBM Cloud</li>
<li><a href="https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough-portal">Create an AKS cluster on Azure</a> - Managed Kubernetes service from Azure</li>
<li><a href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-zonal-cluster">Create a GKE cluster on GCP</a> - Managed Kubernetes service from Google Cloud Platform (GCP)</li>
</ul>
</li>
</ul>
</div>
<div class="admonition abstract">
<p class="admonition-title">Local Kubernetes Service (Free)</p>
<ul>
<li>You can use local Kubernetes cluster provided by Docker Desktop. To Enable this, install Docker Desktop and open it.<ul>
<li>Click on the <strong>gear</strong> icon on top.</li>
<li>Select <strong>Kubernetes</strong> from the list.</li>
<li>Click on <strong>Enable Kubernetes</strong> checkbox.</li>
<li>Click on <strong>Apply and Restart</strong>.
  <img alt="enable-docker-desktop-kubernetes" src="../src/images/enable-docker-kubernetes.png" /><blockquote>
<p>Note: Kubernetes installation for Docker Desktop takes a few minutes and requires an internet connection.</p>
</blockquote>
</li>
<li>Once enabled, please wait for the Kubernetes cluster to start. You can verify the successful start by checking the color of the Kubernetes cluster icon in the bottom left corner of the Docker Desktop window. The cluster icon will turn green when the cluster is ready.
<img alt="enable-docker-desktop-kubernetes-cluster" src="../src/images/kubernetes-enabled.png" /></li>
</ul>
</li>
</ul>
</div>
<h3 id="52-check-kubernetes-context">5.2. Check Kubernetes context</h3>
<ul>
<li>
<p>Once you have a Kubernetes cluster ready to use, you need to point your <code>kubectl</code> to the Kubernetes cluster. You can check the context by running the following command:
<div class="highlight"><pre><span></span><code>kubectl config current-context
</code></pre></div></p>
</li>
<li>
<p>If you have setup local Kubernetes cluster with Docker Desktop, you will see output similar to the following:
<div class="highlight"><pre><span></span><code>docker-desktop
</code></pre></div></p>
<details class="warning" open="open">
<summary>Important Note</summary>
<p>If you have setup a managed Kubernetes cluster, your output may vary.</p>
</details>
</li>
<li>
<p>Once you verify <code>kubectl</code> is pointing to the Kubernetes cluster, you can proceed to the next step. If <code>kubectl</code> is not pointing to the Kubernetes cluster, you can refer to <a href="https://medium.com/@kritika.singhal/managing-kubernetes-context-using-kubectl-fe78a9cdc506">Managing Kubernetes Context using Kubectl</a> medium article which explains how to set the context.</p>
</li>
</ul>
<h3 id="53-deploy-app-on-kubernetes">5.3. Deploy App on Kubernetes</h3>
<ul>
<li>
<p>You will be using the <code>deploy.yaml</code> script file to deploy the app on the Kubernetes cluster. </p>
</li>
<li>
<p>In terminal, run the following command:
<div class="highlight"><pre><span></span><code>kubectl apply -f deploy.yaml
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>deployment.apps/sample-app created
</code></pre></div></p>
</li>
<li>
<p>You can see the deployment on your Kubernetes cluster by running the following command:
<div class="highlight"><pre><span></span><code>kubectl get deployment
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>NAME         READY   UP-TO-DATE   AVAILABLE   AGE
sample-app   1/1     1            1           6s
</code></pre></div></p>
</li>
<li>
<p>You can also check the pods for the deployment by running the following command:
<div class="highlight"><pre><span></span><code>kubectl get pods
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>NAME                          READY   STATUS    RESTARTS   AGE
sample-app-7c7f988df8-rt76v   1/1     Running   0          4s
</code></pre></div></p>
</li>
<li>
<p>Remember we had set the <code>replicas</code> to <code>1</code> in the <code>deploy.yaml</code> file. So, you will see only one pod running. You can increase the number of replicas by running the following command:
<div class="highlight"><pre><span></span><code>kubectl scale deployment sample-app --replicas<span class="o">=</span><span class="m">2</span>
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>deployment.apps/sample-app scaled
</code></pre></div></p>
</li>
<li>
<p>Now if you check the pods you will see two pods running.
<div class="highlight"><pre><span></span><code>kubectl get pods
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>NAME                          READY   STATUS    RESTARTS   AGE
sample-app-7c7f988df8-rt76v   1/1     Running   0          58s
<span class="hll">sample-app-7c7f988df8-sw89l   1/1     Running   0          54s
</span></code></pre></div></p>
</li>
<li>
<p>You can check if the application is running inside the pod. In terminal, run the following command:
<div class="highlight"><pre><span></span><code>kubectl logs sample-app-7c7f988df8-666zb
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:</p>
<div class="highlight"><span class="filename">Python Flask App Output</span><pre><span></span><code>* Serving Flask app &#39;app&#39; (lazy loading)
* Environment: production
WARNING: This is a development server. Do not use it in a production deployment.
Use a production WSGI server instead.
* Debug mode: on
* Running on all addresses.
WARNING: This is a development server. Do not use it in a production deployment.
* Running on http://10.1.0.34:8080/ (Press CTRL+C to quit)
* Restarting with stat
* Debugger is active!
* Debugger PIN: 113-374-682
</code></pre></div>
<div class="highlight"><span class="filename">NodeJs Express App Output</span><pre><span></span><code>&gt; express-app@1.0.0 start
&gt; node app.js

Example app listening on port 3000!
</code></pre></div>
</li>
<li>
<p>If you have followed the tutorial upto this point, the application will be running successfully inside the pod.</p>
</li>
<li>
<p>To access the application you need to create a service.</p>
</li>
</ul>
<h3 id="54-create-service-for-the-deployment">5.4. Create service for the deployment</h3>
<ul>
<li>A service for deployment is created to access the application from outside the cluster. The service exposes a port from the deployment. You can expose port from the service in three ways:</li>
</ul>
<table>
<thead>
<tr>
<th>Types</th>
<th>Expose</th>
<th>Access</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>ClusterIP</td>
<td>Expose service through kubernetes cluster</td>
<td>Access service through <code>clusterIP:port</code></td>
<td>http://192.168.29.2:5432</td>
</tr>
<tr>
<td>NodePort</td>
<td>Expose service through internal network VM's (external to kubernetes)</td>
<td>Access service through <code>clusterIP:nodePort</code></td>
<td>http://192.168.29.2:30000 (note: nodePort is always in the range 30000-32767)</td>
</tr>
<tr>
<td>LoadBalancer</td>
<td>Expose service through external load balancer (external world)</td>
<td>Access service through <code>externalIP:port</code></td>
<td>https://sample-app.amazonaws.com</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>You will be using the <code>service.yaml</code> script file to create a service for the deployment.</p>
</li>
<li>
<p>In terminal, run the following command:
<div class="highlight"><pre><span></span><code>kubectl apply -f service.yaml
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>service/sample-app created
</code></pre></div></p>
</li>
<li>
<p>To check the service that you just created, run the following command:
<div class="highlight"><pre><span></span><code>kubectl get service
</code></pre></div></p>
</li>
<li>
<p>You will see output similar to the following:</p>
<div class="highlight"><span class="filename">Python Flask App Output</span><pre><span></span><code>NAME                   TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
kubernetes             ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP        5h8m
<span class="hll">my-flask-app-service   NodePort    10.104.140.122   &lt;none&gt;        80:32200/TCP   5h7m
</span></code></pre></div>
<div class="highlight"><span class="filename">NodeJs Express App Output</span><pre><span></span><code>NAME                   TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE
kubernetes             ClusterIP   10.96.0.1        &lt;none&gt;        443/TCP        5h8m
<span class="hll">my-express-app-service NodePort    10.104.140.122   &lt;none&gt;        80:32201/TCP   5h7m
</span></code></pre></div>
</li>
<li>
<p>Remember we had set the <code>type</code> to <code>nodePort</code> in the <code>service.yaml</code> file. So, you will have to access the service with <code>clusterIP:nodePort</code>. To get the ClusterIP run the following command:
<div class="highlight"><pre><span></span><code>kubectl get nodes -o wide <span class="p">|</span> awk <span class="s1">&#39;{print $7}&#39;</span>
</code></pre></div></p>
</li>
<li>
<p>If you have setup local Kubernetes cluster with Docker Desktop, you will see output similar to the following:
<div class="highlight"><pre><span></span><code>EXTERNAL-IP
&lt;none&gt;
</code></pre></div></p>
<details class="warning" open="open">
<summary>Important Note</summary>
<p>If you have setup a managed Kubernetes cluster, your output may vary. If you see multiple external IPs displayed, you can use any one of the external IPs.</p>
</details>
<details class="note" open="open">
<summary>Note</summary>
<p>Since local Kubernetes cluster is running on your machine, you will see <code>&lt;none&gt;</code> in the <code>EXTERNAL-IP</code> column. However, you can access the <code>clusterIP:nodePort</code> by simply visiting <code>localhost:nodePort</code>.</p>
</details>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Access Python Flask Application from Kubernetes</label><label for="__tabbed_1_2">Access NodeJs Express Application from Kubernetes</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>
<p>To access the python flask application, visit <code>http://localhost:32200/</code> on your browser or run the following command:
<div class="highlight"><pre><span></span><code>curl http://localhost:32200
</code></pre></div></p>
<blockquote>
<p>Note: Remember we had defined <code>nodePort:32200</code> in the <code>service.yaml</code> file for python flask application. Also <code>localhost</code> is for local Kubernetes cluster. If you have setup a managed Kubernetes cluster, use the External-IP obtained from <code>kubectl get nodes -o wide | awk '{print $7}'</code> and the port <code>32200</code>.</p>
</blockquote>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>&lt;h1 align=&#39;center&#39;&gt;Hello World from Python Flask!&lt;/h1&gt;
</code></pre></div></p>
</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>
<p>To access the nodejs express application, visit <code>http://localhost:32201/</code> on your browser or run the following command:
<div class="highlight"><pre><span></span><code>curl http://localhost:32201
</code></pre></div></p>
<blockquote>
<p>Note: Remember we had defined <code>nodePort:32201</code> in the <code>service.yaml</code> file for nodejs express application. Also <code>localhost</code> is for local Kubernetes cluster. If you have setup a managed Kubernetes cluster, use the External-IP obtained from <code>kubectl get nodes -o wide | awk '{print $7}'</code> and the port <code>32201</code>.</p>
</blockquote>
</li>
<li>
<p>You will see output similar to the following:
<div class="highlight"><pre><span></span><code>&lt;h1 align=&#39;center&#39;&gt;Hello World from NodeJs Express!&lt;/h1&gt;
</code></pre></div></p>
</li>
</ul>
</div>
</div>
</div>
<ul>
<li>If you see <code>Hello World</code> message, congrats! You have successfully deployed the application on a Kubernetes cluster.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Learning Materials</p>
<ul>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/">Learn Kubernetes Basics</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/scale/scale-intro/">Running Multiple Instances of Your App (scaling the app)</a></li>
</ul>
</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../deploy-script/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 4. Writing the deployment scripts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              4. Writing the deployment scripts
            </div>
          </div>
        </a>
      
      
        
        <a href="../conclusion/" class="md-footer__link md-footer__link--next" aria-label="Next: Conclusion" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Conclusion
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      This GitHub pages is maintained by <a href="https://github.com/manojjahgirdar"> <b> Manoj Jahgirdar.</b></a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://linkedin.com/manojjahgirdar" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/iam_manojjag" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/manojjahgirdar" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.integrate", "navigation.top", "content.tabs.link"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.960e086b.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>